name: Verify GitHub Secrets

on:
  workflow_dispatch:

jobs:
  verify-secrets:
    runs-on: ubuntu-latest
    steps:
    - name: Check if required secrets exist
      run: |
        echo "Checking GitHub Secrets configuration..."
        
        # Check Azure credentials
        if [ -z "${{ secrets.AZURE_CREDENTIALS }}" ]; then
          echo "‚ùå AZURE_CREDENTIALS secret is missing"
          exit 1
        else
          echo "‚úÖ AZURE_CREDENTIALS secret exists"
        fi
        
        # Check database secrets  
        if [ -z "${{ secrets.POSTGRES_USER }}" ]; then
          echo "‚ùå POSTGRES_USER secret is missing"
        else
          echo "‚úÖ POSTGRES_USER secret exists"
        fi
        
        if [ -z "${{ secrets.POSTGRES_PASSWORD }}" ]; then
          echo "‚ùå POSTGRES_PASSWORD secret is missing"
        else
          echo "‚úÖ POSTGRES_PASSWORD secret exists"
        fi
        
        if [ -z "${{ secrets.DATABASE_URL }}" ]; then
          echo "‚ùå DATABASE_URL secret is missing"
        else
          echo "‚úÖ DATABASE_URL secret exists"
        fi
        
        if [ -z "${{ secrets.NEXTAUTH_SECRET }}" ]; then
          echo "‚ùå NEXTAUTH_SECRET secret is missing"
        else
          echo "‚úÖ NEXTAUTH_SECRET secret exists"
        fi
        
        echo ""
        echo "üèÖ Paralympic Committee of India CI/CD Setup Check Complete!"
